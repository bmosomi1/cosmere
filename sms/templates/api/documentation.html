{% extends 'layouts/new_base.html' %}

{% block additional_styles %}

{% endblock %}

{% block content %}
<div class="row">
        <div class="col-md-12">
          <div class="tile">
              <div class="row">
                  <div class="col-sm-12 justify-content-center">
                      <h3 class="tile-title">Documentation</h3>
                      <hr>
                  </div>
              </div>
            <div class="tile-body">
                <div class="row">
                    <div class="col-sm-12">
                        <h4>Usage Overview</h4>
                        <hr>
                        <p>Here is some information to help you understand the basic usage of our RESTFUL API.
                            This Section includes information about Authentication, Making Requests, Query Parameters.</p>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-12">
                        <h4>Authorization</h4>
                        <hr>
                        <p>Certain API calls require you to send data in a particular format as part of the API call.</p>
                        <p>All API calls expect input in JSON format.</p>
                        <div class="row">
                            <div class="col-sm-6">
                                <h5>Get Access Token</h5>
                                <p>This endpoint is used to get an authorization token from the server. The token will be used to authenticate requests to protected endpoints.</p>
                                <h6><p>POST(Get Auth Token)</p></h6>
                                <code style="margin-left: 20px">url : "https://roberms.co.ke/sms/v1/roberms/get/access/token"</code>
                                <h6>Parameters</h6>
                                <ul>
                                    <li>consumer_key</li>
                                    <li>consumer_password</li>
                                </ul>
                                <h6>Sample Request</h6>
                                <ul>
                                    <code>{</code><br>
                                    <code style="margin-left: 20px">"consumer_key": "email",</code><br>
                                    <code style="margin-left: 20px">"consumer_password": "password"</code><br>
                                    <code>}</code>
                                </ul>
                            </div>
                            <div class="col-sm-6">
                                <h3>Code Sample</h3>
                                <div class="bs-component">
                                  <ul class="nav nav-tabs">
                                    <li class="nav-item"><a class="nav-link active" data-toggle="tab" href="#python">Python</a></li>
                                    <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#php">PHP</a></li>
                                  </ul>
                                  <div class="tab-content" id="myTabContent">
                                    <div class="tab-pane fade active show" id="python">
                                      <p>
                                          <code>def get_token():</code><br>
                                          <code style="margin-left: 20px">body = {</code><br>
                                          <code style="margin-left: 40px">"consumer_key": "",</code><br>
                                          <code style="margin-left: 40px">"consumer_password": ""</code><br>
                                          <code style="margin-left: 20px">}</code><br>
                                          <code style="margin-left: 20px">url = "https://roberms.co.ke/sms/v1/roberms/get/access/token"</code><br>
                                          <code style="margin-left: 20px">response = requests.post(url=url, json=body)</code><br>
                                          <code style="margin-left: 20px">response = json.loads(response.text)</code><br>
                                          <code style="margin-left: 20px">return response['token']</code><br>

                                      </p>
                                    </div>
                                    <div class="tab-pane fade" id="php">
                                      <p>
                                          <code>public function get_token(){</code><br>
                                          <code style="margin-left: 20px">$url = 'https://roberms.co.ke/sms/v1/roberms/get/access/token';</code><br>
                                          <code style="margin-left: 20px">$curl = curl_init();</code><br>
                                          <code style="margin-left: 20px">curl_setopt($curl, CURLOPT_URL, $url);</code><br>
                                          <code style="margin-left: 20px">curl_setopt($curl, CURLOPT_HTTPHEADER, array('Content-Type:application/json'));</code><br>
                                          <code style="margin-left: 20px">$curl_post_data = [</code><br>
                                          <code style="margin-left: 40px">"consumer_key" => "",</code><br>
                                          <code style="margin-left: 40px">"consumer_password" => "",</code><br>
                                          <code style="margin-left: 20px">];</code><br>

                                          <code style="margin-left: 20px">$data_string = json_encode($curl_post_data);</code><br>
                                          <code style="margin-left: 20px">curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);</code><br>
                                          <code style="margin-left: 20px">curl_setopt($curl, CURLOPT_POST, true);</code><br>
                                          <code style="margin-left: 20px">curl_setopt($curl, CURLOPT_POSTFIELDS, $data_string);</code><br>
                                          <code style="margin-left: 20px">$curl_response = curl_exec($curl);</code><br>
                                          <code style="margin-left: 20px">$access_token=json_decode($curl_response);</code><br>
                                          <code style="margin-left: 20px">return $access_token->token;</code><br>
                                          <code >}</code><br>
                                          </code>
                                      </p>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-12">
                        <h4>Send Simple Sms</h4>
                        <hr>
                        <p>To send sms, initiate a POST request to the following url ;</p>
                        <code style="margin-left: 20px">url : "https://roberms.co.ke/sms/v1/roberms/send/simple/sms"</code>
                        <div class="row">
                            <div class="col-sm-3">
                                <h6>Headers</h6>
                                <ul>
                                    <code>Authorization</code>
                                </ul>
                                <h6>Parameters</h6>
                                <ul>
                                    <code>message</code><br>
                                    <code>phone_number</code><br>
                                    <code>sender_name</code><br>
{#                            <li>access_code</li>#}
                                    <code>unique_identifier</code>
                                </ul>
                            </div>
                            <div class="col-sm-3">
                                <h6>Sample Format</h6>
                                <ul>
                            <code>body = {</code><br>
                            <code style="margin-left: 20px">"message": "Simple Message",</code><br>
                            <code style="margin-left: 20px">"phone_number": "",</code><br>
                            <code style="margin-left: 20px">"sender_name": "",</code><br>
{#                            <p>"access_code": "",</p>#}
                            <code style="margin-left: 20px">"unique_identifier": "unique_identifier"</code><br>
                            <code>}</code><br>

                                    <code>headers = {</code><br>
                            <code style="margin-left: 20px">"Authorization": "Token 'token here' "</code><br>
                            <code>}</code>
                        </ul>
                            </div>
                            <div class="col-sm-6">
                                <h3>Code Sample</h3>
                                <div class="bs-component">
                                  <ul class="nav nav-tabs">
                                    <li class="nav-item"><a class="nav-link active" data-toggle="tab" href="#python1">Python</a></li>
                                    <li class="nav-item"><a class="nav-link" data-toggle="tab" href="#php1">PHP</a></li>
                                  </ul>
                                  <div class="tab-content" id="myTabContent">
                                    <div class="tab-pane fade active show" id="python1">
                                      <p>
                                          <code>def send_sms():</code><br>
                                          <code style="margin-left: 20px">url = "http://roberms.co.ke/sms/v1/roberms/send/simple/sms"</code><br>
                                          <code style="margin-left: 20px">body = {</code><br>
                                          <code style="margin-left: 40px">"message": "",</code><br>
                                          <code style="margin-left: 40px">"phone_numbers": "",</code><br>
                                          <code style="margin-left: 40px">"sender_name": "",</code><br>
                                          <code style="margin-left: 40px">"unique_identifier": ""</code><br>
                                          <code style="margin-left: 20px">}</code><br>
                                          <code style="margin-left: 20px">headers = {</code><br>
                                          <code style="margin-left: 40px">"Authorization": "Token "</code><br>
                                          <code style="margin-left: 20px">}</code><br>
                                          <code style="margin-left: 20px">response = requests.post(url=url, json=body, headers=headers)</code><br>
                                          <code style="margin-left: 20px">print(response.text)</code><br>
                                      </p>
                                    </div>
                                    <div class="tab-pane fade" id="php1">
                                      <p>
                                          <code>public function send_sms(){</code><br>
                                          <code style="margin-left: 20px">$url = 'https://roberms.co.ke/sms/v1/roberms/send/simple/sms';</code><br>
                                          <code style="margin-left: 20px">$curl = curl_init();</code><br>
                                          <code style="margin-left: 20px">curl_setopt($curl, CURLOPT_URL, $url);</code><br>
                                          <code style="margin-left: 20px">curl_setopt($curl, CURLOPT_HTTPHEADER, array('Content-Type:application/json',</code><br>
                                          <code style="margin-left: 20px">'Authorization:Token token_here'));</code><br>
                                          <code style="margin-left: 20px">$curl_post_data = [</code><br>
                                          <code style="margin-left: 40px">"message" => "",</code><br>
                                          <code style="margin-left: 40px">"phone_number"=> "",</code><br>
                                          <code style="margin-left: 40px">"sender_name" => "",</code><br>
                                          <code style="margin-left: 40px">"unique_identifier" => ""</code><br>
                                          <code style="margin-left: 20px">];</code><br>
                                          <code style="margin-left: 20px">$data_string = json_encode($curl_post_data);</code><br>
                                          <code style="margin-left: 20px">curl_setopt($curl, CURLOPT_RETURNTRANSFER, true);</code><br>
                                          <code style="margin-left: 20px">curl_setopt($curl, CURLOPT_POST, true);</code><br>
                                          <code style="margin-left: 20px">curl_setopt($curl, CURLOPT_POSTFIELDS, $data_string);</code><br>
                                          <code style="margin-left: 20px">$curl_response = curl_exec($curl);</code><br>
                                          <code style="margin-left: 20px">$curl_response = json_decode($curl_response);</code><br>
                                          <code style="margin-left: 20px">return $curl_response;</code><br>
                                          <code>}</code>
                                      </p>
                                    </div>
                                  </div>
                                </div>
                            </div>
{#                            <div class="col-sm-4">#}
{#                                <ul>#}
{#                            <code>headers = {</code><br>#}
{#                            <code style="margin-left: 20px">"Authorization": "Token 'token here' "</code><br>#}
{#                            <code>}</code>#}
{#                                </ul>#}
{#                            </div>#}
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-12">
                        <h4>Register Urls</h4>
                        <hr>
                        <p>In the event that you need to receive the delivery status to messages sent through this API</p>
                        <p>Make a POST request to url: </p>
                        <code>https://roberms.co.ke/roberms/register/urls</code>
                        <div class="row">
                            <div class="col-sm-4">
                                <h6>Parameters</h6>
                                <ul>
                                    <li>delivery_url</li>
{#                                    <li></li>#}
                                </ul>
                                <h6>Headers</h6>
                                <ul>
                                    <code>Authorization</code>
                                </ul>
                            </div>

                            <div class="col-sm-4">
                                <h6>Sample Request Format</h6>
                                <ul>
                                    <code>body = {</code><br>
                                    <code style="margin-left: 20px">"delivery_url": ""</code><br>
                                    <code>}</code><br>
                                    <code>headers = {</code><br>
                                    <code style="margin-left: 20px">"Authorization": "Token 'token here' "</code><br>
                                    <code>}</code>
                                </ul>
                            </div>
                            <div>
                                <p style="font-weight: bold; margin-left: 20px">NB: The delivery_url parameter is the url where you want to receive the delivery status for messages sent</p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-sm-12">
                        <h4>Credit Balance</h4>
                        <hr>
                        <p>In the event that you need to check your remaining credit balance</p>
                        <p>Make a GET request to url: </p>
                        <code>https://roberms.co.ke/sms/v1/credit/balance</code>
                        <div class="row">
                            <div class="col-sm-4">
                                <h6>Headers</h6>
                                <ul>
                                    <code>Authorization: "Token 'token here' "</code>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
          </div>
        </div>
</div>
{% endblock %}